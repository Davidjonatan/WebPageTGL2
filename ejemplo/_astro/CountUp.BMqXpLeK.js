import{_ as s}from"./preload-helper.Dw7BN22V.js";import{A as m,d as h,y as T}from"./hooks.module.BKHCj0z0.js";import{u as A}from"./jsxRuntime.module.fOORsCCE.js";import"./preact.module.B5PsXcXZ.js";function y({value:e,duration:l=2e3,className:g="",suffix:f=""}){const o=m(null),[p,i]=h(0);return T(()=>{let n=!0,r=null,c=null;if(!o.current)return;const _=Math.max(.1,l/1e3);return s(()=>import("./index.Dj4XqqbB.js"),[]).then(t=>{const u=t.default;return s(()=>import("./ScrollTrigger.CcPJIpJ9.js"),[]).then(d=>{c=d.ScrollTrigger,u.registerPlugin(c);const a={val:0};r=u.to(a,{val:e,duration:_,ease:"power1.out",onUpdate(){n&&i(Math.floor(a.val))},scrollTrigger:{trigger:o.current,start:"top 85%",toggleActions:"play none none none"}})})}).catch(t=>{console.error("GSAP load failed:",t),n&&i(e)}),()=>{n=!1;try{r&&(r.scrollTrigger&&r.scrollTrigger.kill(),r.kill())}catch{}}},[e,l]),A("span",{ref:o,className:g,children:[p,f]})}export{y as default};
