---
import AnimateEntrance from "./animations/AnimateEntrance";
import CountUp from "./animations/CountUp.tsx";
import AnimateOnScrollTop from "./animations/AnimateOnScrollTop.tsx";

interface Props {
  title?: string;
  description?: string;
  stats: { number: number; label: string }[];
}

const { 
  title = "Infraestructura",
  description = "Más de 32 años de experiencia brindando transporte confiable...",
  stats = [
    { number: 100, label: "Tractocamiones" },
    { number: 500, label: "Remolques" },
    { number: 10, label: "Plataformas" },
    { number: 24, label: "Nodrizas" },
  ]
} = Astro.props;
---

<section  
  class="relative bg-center bg-cover bg-no-repeat text-white min-h-screen flex items-center"
  style="background-image: url('./images/index/stats.jpeg');"
>
  <!-- Overlay oscuro -->
  <div class="absolute inset-0 bg-black/40"></div>

  <div class="relative max-w-7xl mx-auto px-4 xl:px-0 w-full">
    <!-- Header -->
    <div class="flex flex-col items-center text-center">
      <AnimateEntrance client:load origin={"bottom"} useScrollTrigger={true} triggerClass="text-col" stagger={0.2}>
        <div
          class="bg-white/90 text-neutral-800 rounded-2xl shadow-lg px-6 py-6 inline-block"
        >
          <h2 class="title1-card3-servicios text-3xl lg:text-5xl font-extrabold text-col">
            {title} <br />
            <span class="block text-base lg:text-lg font-medium text-neutral-700 mt-2 text-col mt-4">
              {description}
            </span>
          </h2>
        </div>
      </AnimateEntrance>
    </div>
    <!-- Stats con animación individual -->
    <div
      class="mt-12 grid items-center gap-y-8 text-center md:px-4 lg:grid-cols-4 lg:gap-x-12 lg:gap-y-0 lg:px-8"
    >
      {stats.map((item) => (
        <AnimateOnScrollTop client:load>
          <div
            class="border border-white rounded-xl p-6 backdrop-blur-sm bg-black/40"
          >
            <div
              class="text-white text-5xl font-semibold lg:text-6xl xl:text-7xl"
            >
              +<CountUp client:load value={item.number} className="inline-block" />
            </div>
            <p class="mt-3 text-white text-sm font-medium">
              {item.label}
            </p>
          </div>
        </AnimateOnScrollTop>
      ))}
    </div>
  </div>
</section>
