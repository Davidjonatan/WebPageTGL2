---
import AnimateOnScroll from "./AnimateOnScroll";
import CountUp from "./CountUp.tsx";
import AnimateOnScrollTop from "./AnimateOnScrollTop";
AnimateOnScroll

interface Props {
  title?: string;
  description?: string;
  stats: { number: number; label: string }[];
}

const { 
  title = "Infraestructura",
  description = "",
  stats = [
    { number: 100, label: "" },
    { number: 500, label: "" },
    { number: 10, label: "" },
    { number: 24, label: "" },
  ]
} = Astro.props;
---

<section class="bg-white pt-12 lg:pt-16 pb-12 lg:pb-16">
  <div class="max-w-7xl mx-auto px-4 xl:px-0">
    <!-- Header -->
    <div class="flex flex-col items-center">
      <AnimateOnScroll client:load>
      <div
        class="items-center justify-center rounded-full text-3xl lg:text-5xl font-extrabold whitespace-nowrap shadow-[0_2px_10px_0px_rgba(0,0,0,0.15)] inline-flex bg-white text-neutral-800 px-4 py-3"
      >
        {title}
      </div>
      </AnimateOnScroll>
      <AnimateOnScroll client:load>
        <p
        class="text-sm font-medium text-slate-600 leading-normal lg:leading-normal lg:text-base mt-4 text-center sm:mx-auto sm:w-2/3 md:w-1/2 xl:w-2/5"
      >
        {description}
      </p>
      </AnimateOnScroll>
      
    </div>

   <!-- Stats con animaciÃ³n individual -->
    <div
      class="mt-12 grid items-center gap-y-8 text-center md:px-4 lg:grid-cols-4 lg:gap-x-12 lg:gap-y-0 lg:px-8"
    >
      {stats.map((item) => (
        <AnimateOnScrollTop client:load>
          <div
            class="relative first:before:relative before:left-1/2 before:-translate-x-1/2 lg:before:translate-x-0 before:w-16 before:h-px before:absolute lg:before:-left-6 lg:before:top-1/2 lg:before:-translate-y-1/2 lg:before:w-px lg:before:h-16 before:bg-neutral-100 before:-top-4"
          >
            <div
              class="bg-gradient-to-b from-slate-800 to-slate-600 bg-clip-text text-5xl font-semibold text-transparent lg:text-6xl xl:text-7xl"
            >
              +<CountUp client:load value={item.number} className="inline-block" />
            </div>
            <p class="mt-1 px-2.5 text-sm font-medium text-neutral-500 lg:mt-3">
              {item.label}
            </p>
          </div>
        </AnimateOnScrollTop>
      ))}
    </div>
  </div>
</section>
