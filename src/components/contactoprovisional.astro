---
import AnimateEntrance from './animations/AnimateEntrance';

export interface Props {
  title?: string;
  contactTitle?: string;
  address?: string;
  phone2?: string;
  phone?: string;
  email?: string;
  findUs?: string;
  mapSrc?: string;
}

const {
  title = "¬°Cont√°ctanos!",
  contactTitle = "¬°Cont√°ctanos!",
  address = "Libramiento Perif. 2146, Lerdo, Dgo.",
  phone2 = "871 315 0181",
  phone = "+52871 315 0181",
  email = "info@tgarzaleal.com",
  findUs = "¬°ENCU√âNTRANOS AQU√ç!",
  mapSrc = "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3599.8158669471636!2d-103.53492822515123!3d25.544509717546656!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x868fda42932bc6d3%3A0xed9bec7d71ee1407!2sTransportes%20Garza%20Leal!5e0!3m2!1ses-419!2smx!4v1760481879768!5m2!1ses-419!2smx"
} = Astro.props;

// ‚úÖ Generar enlace de WhatsApp
const phoneNumber = `+52${phone.replace(/\D/g, '')}`; // limpia y asegura formato internacional
const whatsappMessage = "Hola, me gustar√≠a obtener m√°s informaci√≥n sobre sus servicios.";
const whatsappLink = `https://wa.me/${phoneNumber}?text=${encodeURIComponent(whatsappMessage)}`;
---

<section class="w-full bg-[#0f172a] text-white py-16 px-6 md:px-12 flex flex-col md:flex-row gap-10 items-center justify-center">
  <!-- üß≠ Columna Izquierda -->
  <div class="w-full md:w-1/3 space-y-6 text-center md:text-left">
    <AnimateEntrance client:load origin={"Left"} useScrollTrigger={false} triggerClass="list-col" stagger={0.2}>
      <h2 class="contact-title list-col mt-8">{title}</h2>

      <!-- üîÅ Imagen -->
      <img 
        src="/public_html/images/contactanos/contactanos.png" 
        alt="Contacto Transportes Garza Leal" 
        class="list-col w-full rounded-2xl shadow-lg mx-auto object-cover"
        loading="lazy"
      />

      <div class="contact-info space-y-4 md:space-y-3">
        <!-- Direcci√≥n -->
        <div class="list-col flex flex-col md:flex-row md:items-start gap-1 md:gap-3">
          <strong class="block md:w-24 md:flex-shrink-0">Direcci√≥n:</strong>
          <a href="https://maps.app.goo.gl/i1FiNn4YuoeT6zek7"
            target="_blank"
            class="text-blue-400 hover:underline text-sm md:text-base ">
            {address}
          </a>
        </div>

        <!-- WhatsApp -->
        <div class="list-col flex flex-col md:flex-row md:items-center gap-1 md:gap-3">
          <strong class="block md:w-24 md:flex-shrink-0">Whatsapp:</strong>
          <a href={whatsappLink} target="_blank" rel="noopener noreferrer" class="text-blue-400 hover:underline text-sm md:text-base">
            {phone2}
          </a>
        </div>

        <!-- Tel√©fono -->
        <div class="list-col flex flex-col md:flex-row md:items-center gap-1 md:gap-3">
          <strong class="block md:w-24 md:flex-shrink-0">Tel√©fono:</strong>
          <span class="text-white text-sm md:text-base">
            {phone}
          </span>
        </div>

        <!-- Correo -->
        <div class="list-col flex flex-col md:flex-row md:items-center gap-1 md:gap-3">
          <strong class="block md:w-24 md:flex-shrink-0">Correo:</strong>
          <a href={`mailto:${email}`} class="text-blue-400 hover-underline text-sm md:text-base">
            {email}
          </a>
        </div>
      </div>
    </AnimateEntrance>
  </div>

  <!-- üó∫Ô∏è Columna Derecha -->
  <div class="w-full md:w-2/3 space-y-6 flex flex-col items-center mt-[-1.9rem]">
    <AnimateEntrance client:load origin={"Right"} useScrollTrigger={false} triggerClass="title-col" stagger={0.2}>
      <h3 class="text-2xl md:text-3xl font-bold text-yellow-400 tracking-wide text-center title-col mb-8">
        {findUs}
      </h3>
    </AnimateEntrance>

    <div class="w-full h-[300px] sm:h-[350px] md:h-[450px] lg:h-[500px] rounded-2xl overflow-hidden shadow-2xl map-col">
      <iframe
        src={mapSrc}
        width="100%"
        height="100%"
        style="border:0;"
        allowfullscreen=""
        loading="lazy"
        referrerpolicy="no-referrer-when-downgrade">
      </iframe>
    </div>
  </div>
</section>